# 接口文档

<br>

### <a id="account_generate">生成账户</a>

#### Request

> GET /account

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|no|空表示随机生成一个账户，非空表示由私钥推导公钥

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",	// error info if api call is failed
	    "result": {
	        "privkey": "",
	        "pubkey": ""
	    }
	}
	
<br>

### <a id="asset_define">定义资产</a>

#### Request

> POST /asset/define

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|yes|发行方私钥
assetid|string|yes|资产ID
addrsell|string|yes|卖出地址
addrbuy|string|yes|买入地址
name|string|yes|资产名称
desc|string|yes|资产描述
unit|string|yes|单位
state|uint|yes|状态？

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": null
	}

<br>

### <a id="asset_query">查询资产</a>

#### Request

> POST /asset/query

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|yes|发行方私钥
assetID|string|yes|资产ID

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": {
	        "name": "",
	        "desc": "",
	        "unit": "",
	        "addrsell":"",
	        "addrbuy":"",
	        "state": x,
	    }
	}

<br>



### <a id="tx_record">登记交易</a>

#### Request

> POST /tx/record

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|yes|买入或卖出私钥
txid|string|yes|交易ID
tx_time|string|yes|交易时间 加密（应用层加密）
quantity|string|yes|交易数量
term|string|yes|？
price|string|yes|价格 加密（应用层加密）

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": null
	}

<br>

### <a id="tx_queryone">查询单笔交易</a>

#### Request

> POST /tx/query

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|yes|买入或卖出私钥
txid|string|yes|交易ID

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": {
	        "tx_time": "",
	        "quantity": "",
	        "term": "",
	        "price": ""
	    }
	}

<br>


### <a id="tx_queryall">查询交易历史</a>

#### Request

> POST /tx/all/query

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
privkey|string|yes|买入或卖出私钥

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": [{
	        "tx_time": "",
	        "quantity": "",
	        "term": "",
	        "price": ""
	    },{
	    	"tx_time": "",
	        "quantity": "",
	        "term": "",
	        "price": ""
	    },{
	    	"tx_time": "",
	        "quantity": "",
	        "term": "",
	        "price": ""
	    }
	    ...
	    ]
	}

<br>


### <a id="sign_verify">验证签名</a>

#### Request

> GET /tx/query

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
pubkey|string|yes|公钥
msg|string|yes|被签名的信息
signature|string|yes|签名

#### Response
	{
	    "isSuccess": true | false,
	    "log": "",
	    "result": null
	}

<br>


### TODO <a id="validator_change">验证节点加减</a>

#### Request

> POST /validator/change

#### Parameters

Name|Type|Must|Description
----|----|----|-----------
node_pubkey|string|yes|待操作节点的公钥
sigs|string array|yes|已有的Validator节点为“待操作节点公钥”做的签名，空表示减
	

